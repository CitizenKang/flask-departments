{% extends 'base.html' %}
{% include 'header.html' %}


{% block title %} Departments {% endblock %}


{% block body %}
<div class="container">
    <div class="row">
        <div class="col m-12">

            <div class="jumbotron p-3">
   <div class="col-8 col-sm-6">
                 <h4>Manage <b>Employees</b> </h4>

            </div>
             <div class="col-sm">
                                     <button type="button" class="btn btn-success float-right"
                            data-toggle="modal" data-target="#mymodal">Add
                    </button>
            </div>


                {% with messages = get_flashed_messages() %}

                {% if messages %}

                {% for message in messages %}

                <div class="alert alert-success alert-dismissable" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="close">
                        <span aria-hidden="true">x</span>
                    </button>


                    {{message}}
                </div>


                {% endfor %}

                {% endif %}
                {% endwith %}

                <!--table-->
                <table class="table table-striped">
                    <thead class="table-dark">
                    <tr>
                        <th> Employee ID</th>
                        <th> First name</th>
                        <th> Last name</th>
                        <th> Date of birth</th>
                        <th> Phone number</th>
                        <th> Email</th>
                        <th> Salary</th>
                        <th> Department</th>
                        <th> Operation</th>
                    </tr>
                    </thead>
                    {% for element in data %}
                    <tr>
                        <td>{{ element['uuid'] }}</td>
                        <td>{{ element['first_name'] }}</td>
                        <td>{{ element['last_name'] }}</td>
                        <td>{{ element['date_of_birth'] }}</td>
                        <td>{{ element['phone_number'] }}</td>
                        <td>{{ element['email'] }}</td>
                        <td>{{ element['salary'] }}</td>
                        <td>{{ element['department']['name'] }}</td>
                        <td>

                            <a href="/department/delete/{{element[1]}}" class="btn btn-primary btn-sm"
                               data-toggle="modal" data-target="#modaledit{{element[1]}}">Edit</a>
                            <a href="/department/delete/{{element[1]}}" class="btn btn-danger btn-sm"
                               onclick="return confirm('Are You Sure To Delete ?')">Delete</a>

                        </td>
                    </tr>


                    {% endfor %}


                    {% endblock %}